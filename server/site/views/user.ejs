<% layout('__layout') -%>

<% script('/javascripts/router/userRouter.js') -%>

<% script('/javascripts/models/user.js') -%>
<% script('/javascripts/models/paging.js') -%>

<% script('/javascripts/controllers/userController.js') -%>
<% script('/javascripts/controllers/pagingController.js') -%>

<% script('/javascripts/views/userView.js') -%>
<% script('/javascripts/views/pagingView.js') -%>

<script type="text/x-handlebars", data-template-name="user">
  {{view Deific.HeaderView}} 

  <div class='container'>
    <div class='content'>
      <div class='row user-profile-page'>
        <div class='col-xs-12 col-sm-12 col-lg-12'>
          <div class='mainSection'>
            <div class='row contentTitle'>
              <div class='col-xs-12 col-sm-7 col-lg-7'>
                <h1 class='mtm'>{{fullname}}</h1>
              </div>
              <div class="col-xs-12 col-sm-5 col-lg-5">
                <div class="tabGroup btn-group" data-default='questions'>
                  <a id='aquestions' href='?tab=questions' class="btn btn-danger">Questions</a>
                  <a id='aanswers' href='?tab=answers' class="btn btn-danger">Answers</a>
                  <a id='avotes' href='?tab=votes' class="btn btn-danger hide">Votes</a>
                </div>
              </div>
            </div>
            <div class='user-details-container'>
            	<div class='row'>
              	</div>
            </div>
            <div class='entities-container'>
              {{#each entity in entities}}
                <div {{bindAttr class=':row :enitity-row-container entity.isanswered:isanswered'}}>
                  <div class='time-row'>
                    <div class='col-xs-12 col-sm-12 col-lg-12'>
                      {{render time entity}}
                    </div>
                  </div>
                  <div class='entity-title pull-left pls'>
                    <div class='col-xs-12 col-sm-12 col-lg-12'>
                      <a {{bindAttr title='entity.text'}} {{bindAttr href='entity.url'}} class='font120'>
                        {{entity.title}}
                      </a>  
                    </div>
                  </div>
                  <div class='entity-details pull-left pls'>
                    <div class='col-xs-12 col-sm-12 col-lg-12'>
                      <span {{bindAttr class=':mrs :nowrap view.hidevotecount:hide'}}>{{entity.votecount}} {{pluralize entity.votecount s='vote'}}</span>
                      <span {{bindAttr class=':mrs :nowrap entity.isanswer:hide'}}><span {{bindAttr class='view.questionpage:hide'}}>&#8226;</span> {{entity.answercount}} {{pluralize answercount s='answer'}} </span>
                      <span {{bindAttr class=':mrs :nowrap entity.isanswer:hide'}}>&#8226; {{entity.viewcount}} {{pluralize entity.viewcount s='view'}}</span>
                      <span {{bindAttr class=':mrs :nowrap entity.isanswer:hide'}}>&#8226; {{entity.bookmarkcount}} {{pluralize entity.bookmarkcount s='bookmark'}}</span>
                    </div>
                  </div>
                  <div class='since-time pull-left pls'>
                    <div class='col-xs-12 col-sm-12 col-lg-12'>
                      <span class='muted font9'>{{entity.postedaction}} on {{calendar entity.__utcdatecreated}}</span>
                    </div>
                  </div>
                </div>
              {{else}}
                <div class='row'>
                  <div class='col-xs-12 col-sm-12 col-lg-12'>
                      <h5 class='muted mtm'>No activity found.</h5>
                  </div>
                </div>
              {{/each}}
              </div>
            </div>
            <div {{bindAttr class=':pager-container view.showTagContainer:show:hide'}}>
              <div class='row'>
                <div class='col-xs-12 col-sm-12 col-lg-12'>
                  {{outlet pagerBar}}
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  {{view Deific.FooterView}} 
</script>